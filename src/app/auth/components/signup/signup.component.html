<div
  class="wrapper"
  [style]="{
    background: 'linear-gradient(240deg, ' + bg.colors[0] + ' 65%, ' + bg.colors[1] + ' 30%)'
  }"
>
  <div class="content">
    <form [formGroup]="form" (ngSubmit)="onSignup()">
      <h2>Create Account</h2>

      <div class="form-field">
        <label for="username" [ngClass]="{ invalid: form.get('username')?.invalid && form.get('username')?.touched }"
          >Username</label
        >
        <div class="input-wrapper">
          <input
            id="username"
            type="text"
            formControlName="username"
            required
            [ngClass]="{ invalid: form.get('username')?.invalid && form.get('username')?.touched }"
          />
          <div *ngIf="form.get('username')?.invalid && form.get('username')?.touched" class="error">
            Please enter a valid username.
          </div>
        </div>
      </div>

      <div class="form-field">
        <label for="email" [ngClass]="{ invalid: form.get('email')?.invalid && form.get('email')?.touched }"
          >Email</label
        >
        <div class="input-wrapper">
          <input
            id="email"
            type="email"
            formControlName="email"
            required
            [ngClass]="{ invalid: form.get('email')?.invalid && form.get('email')?.touched }"
          />
          <div *ngIf="form.get('email')?.invalid && form.get('email')?.touched" class="error">
            Please enter a valid email address.
          </div>
        </div>
      </div>

      <div class="form-field">
        <label for="password" [ngClass]="{ invalid: form.get('password')?.invalid && form.get('password')?.touched }"
          >Password</label
        >
        <div class="input-wrapper">
          <input
            id="password"
            type="password"
            formControlName="password"
            required
            [ngClass]="{ invalid: form.get('password')?.invalid && form.get('password')?.touched }"
          />
          <div *ngIf="form.get('password')?.invalid && form.get('password')?.touched" class="error">
            Must be at least 6 characters long.
          </div>
        </div>
      </div>

      <button type="submit">
        <ng-container *ngIf="isLoading; else btnText">
          <span class="loader"></span>
        </ng-container>
        <ng-template #btnText> Sign up </ng-template>
      </button>

      <div class="login-link">
        <p>Already have an account? <a routerLink="/login">Log in</a></p>
      </div>
    </form>

    <div class="cover">
      <div class="header-wrapper">
        <h1>Welcome to <span [style]="{ color: bg.colors[1] }">Pic2Flick</span></h1>
      </div>
      <img [src]="bg.url" alt="background image" />
    </div>
  </div>
</div>
